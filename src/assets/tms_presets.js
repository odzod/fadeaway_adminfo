"use strict";(function(a){a.extend(_TMS,{presets:{zoomer:{reverseWay:!1,duration:"1000",interval:"1",blocksX:"1",blocksY:"1",easing:"",way:"lines",anim:"zoomer",k:1.8,crds:{bottom:0,right:0}},fadeThree:{reverseWay:!1,duration:"1000",interval:"1",blocksX:"1",blocksY:"1",easing:"",way:"lines",anim:"fadeThree"},simpleFade:{reverseWay:!1,duration:"1000",interval:"1",blocksX:"1",blocksY:"1",easing:"",way:"lines",anim:"fade"},gSlider:{reverseWay:!1,duration:400,interval:40,blocksX:"1",blocksY:"1",easing:"",way:"lines",anim:"gSlider"},vSlider:{reverseWay:!1,duration:400,interval:40,blocksX:"1",blocksY:"1",easing:"",way:"lines",anim:"vSlider"},slideFromLeft:{reverseWay:!1,duration:"1000",interval:"1",blocksX:"1",blocksY:"1",easing:"easeOutBack",way:"lines",anim:"slideFromLeft"},slideFromTop:{reverseWay:!1,duration:"1000",interval:"1",blocksX:"1",blocksY:"1",easing:"easeOutBack",way:"lines",anim:"slideFromTop"},diagonalFade:{reverseWay:!1,duration:400,interval:40,blocksX:12,blocksY:6,easing:"easeInQuad",way:"diagonal",anim:"fade"},diagonalExpand:{reverseWay:!1,duration:400,interval:40,blocksX:8,blocksY:4,easing:"easeInQuad",way:"diagonal",anim:"expand"},fadeFromCenter:{reverseWay:!0,duration:"600",interval:"10",blocksX:"10",blocksY:"6",easing:"",way:"spiral",anim:"fade"},zabor:{reverseWay:!1,duration:400,interval:40,blocksX:"20",blocksY:"1",easing:"",way:"lines",anim:"slideRight"},vertivalLines:{reverseWay:!1,duration:600,interval:1,blocksX:12,blocksY:1,easing:"swing",way:"lines",anim:"vSlideOdd"},gorizontalLines:{reverseWay:!1,duration:600,interval:1,blocksX:1,blocksY:12,easing:"swing",way:"lines",anim:"gSlideOdd"}},ways:{lines:function lines(){for(var c=this,d=[],e=0;e<c.maskC.length;e++)d.push(c.maskC.eq(e));return d},spiral:function spiral(){var o,c=this,d=[],e=0,f=c.blocksY,g=c.blocksX,p=function(){for(o=e;o<g-1-e;o++)if(d.length<c.maskC.length)d.push(c.matrix[e][o]);else return!1;q()},q=function(){for(o=e;o<f-1-e;o++)if(d.length<c.maskC.length)d.push(c.matrix[o][g-1-e]);else return!1;r()},r=function(){for(o=e;o<g-1-e;o++)if(d.length<c.maskC.length)d.push(c.matrix[f-1-e][g-o-1]);else return!1;s()},s=function(){for(o=e;o<f-1-e;o++)if(d.length<c.maskC.length)d.push(c.matrix[f-o-1][e]);else return!1;p(e++)};return p(),d},vSnake:function vSnake(){var g,k,c=this,d=[],e=c.blocksY,f=c.blocksX;for(k=0;k<f;k++)for(g=0;g<e;g++).5*k==~~(k/2)?d.push(c.matrix[g][k]):d.push(c.matrix[e-1-g][k]);return d},gSnake:function gSnake(){var g,k,c=this,d=[],e=c.blocksY,f=c.blocksX;for(k=0;k<e;k++)for(g=0;g<f;g++).5*k==~~(k/2)?d.push(c.matrix[k][g]):d.push(c.matrix[k][f-1-g]);return d},diagonal:function diagonal(){var c=this,d=[],e=c.blocksY,f=c.blocksX,g=j=n=0;for(g=0;g<f;g++)for(d[g]=[],j=0;j<=g;j++)j<e&&d[g].push(c.matrix[j][g-j]);for(g=1;g<e;g++)for(j=0,d[n=d.length]=[];j<e-g;j++)d[n].push(c.matrix[g+j][f-1-j]);return d},chess:function chess(){for(var c=this,d=0,e=[[],[]],f=0;d<c.maskC.length;d++)e[f=f?0:1].push(c.maskC.eq(d));return e},randomly:function randomly(){for(var c=this,d=[],e=i=0;i<c.maskC.length;i++)d.push(c.maskC.eq(i));for(i=0;i<c.maskC.length;i++)d.push(d.splice(parseInt(Math.random()*c.maskC.length-1),1)[0]);return d}},anims:{fadeThree:function fadeThree(c,d){var e=this;a(c).each(function(){var g=a(this).show().css({left:-e.width/4,top:0,zIndex:2}),k=g.clone().appendTo(g.parent()).css({left:e.width/4,top:e.height/4,zIndex:1}),m=g.clone().appendTo(g.parent()).css({left:0,top:-e.height/4,zIndex:1});k.stop().animate({left:0,top:0},{duration:e.duration,easing:e.easing}),m.stop().animate({left:0,top:0},{duration:e.duration,easing:e.easing}),g.stop().animate({left:0,top:0},{duration:e.duration,easing:e.easing,step:function step(o){var p=o/e.width,q=1+p;k.css({opacity:q*q}),m.css({opacity:q*q}),g.css({opacity:q*q*q})},complete:function complete(){d&&e.afterShow(),k.remove(),m.remove()}})})},zoomer:function zoomer(c,d){var e=this;a(c).each(function(){var f=a(this),g=a(new Image),k=0<e.direction?e.width*e.k:e.width,m=0<e.direction?e.width:e.width*e.k;console.log(k+" "+m),g.css({position:"absolute",zIndex:0,opacity:0}).css(e.crds).appendTo(e.pic).load(function(){e.pic.find("img").not(g).remove(),g.css({width:k,height:"auto"}).stop().animate({opacity:1},{duration:200}).animate({width:m},{duration:e.duration,easing:e.easing}),setTimeout(function(){d&&e.afterShow()},400)}).attr({src:e.next})})},fade:function fade(c,d){var e=this;a(c).each(function(){a(this).css({opacity:0}).show().stop().animate({opacity:1},{duration:+e.duration,easing:e.easing,complete:function complete(){d&&e.afterShow()}})})},expand:function expand(c,d){var e=this;a(c).each(function(){a(this).hide().show(+e.duration,function(){d&&e.afterShow()})})},slideDown:function slideDown(c,d){var e=this;a(c).each(function(){var f=a(this).show(),g=f.height();f.css({height:0}).stop().animate({height:g},{duration:e.duration,easing:e.easing,complete:function complete(){d&&e.afterShow()}})})},slideLeft:function slideLeft(c,d){var e=this;a(c).each(function(){var f=a(this).show(),g=f.width();f.css({width:0}).stop().animate({width:g},{duration:e.duration,easing:e.easing,complete:function complete(){d&&e.afterShow()}})})},slideUp:function slideUp(c,d){var e=this;a(c).each(function(){var f=a(this).show(),g=f.height(),k=f.attr("offsetLeft"),m=f.attr("offsetTop");f.css({height:0,top:m+g}).stop().animate({height:g},{duration:e.duration,easing:e.easing,step:function step(o){var p=m+g-o;f.css({top:p,backgroundPosition:"-"+k+"px -"+p+"px"})},complete:function complete(){d&&e.afterShow()}})})},slideRight:function slideRight(c,d){var e=this;a(c).each(function(){var f=a(this).show(),g=f.width(),k=f.attr("offsetLeft"),m=f.attr("offsetTop");f.css({width:0,left:k+g}).stop().animate({width:g},{duration:e.duration,easing:e.easing,step:function step(o){var p=k+g-o;f.css({left:p,backgroundPosition:"-"+p+"px -"+m+"px"})},complete:function complete(){d&&e.afterShow()}})})},slideFromTop:function slideFromTop(c,d){var e=this;a(c).each(function(){var f=a(this),g=f.show().css("top"),k=f.height();f.css({top:-k}).stop().animate({top:g},{duration:+e.duration,easing:e.easing,complete:function complete(){d&&e.afterShow()}})})},slideFromDown:function slideFromDown(c,d){var e=this;a(c).each(function(){var f=a(this),g=f.show().css("top"),k=f.height();f.css({top:k}).stop().animate({top:g},{duration:+e.duration,easing:e.easing,complete:function complete(){d&&e.afterShow()}})})},slideFromLeft:function slideFromLeft(c,d){var e=this;a(c).each(function(){var f=a(this),g=f.show().css("left"),k=f.width();f.css({left:-k}).stop().animate({left:g},{duration:+e.duration,easing:e.easing,complete:function complete(){d&&e.afterShow()}})})},slideFromRight:function slideFromRight(c,d){var e=this;a(c).each(function(){var f=a(this),g=f.show().css("left"),k=f.width();f.css({left:k}).stop().animate({left:g},{duration:+e.duration,easing:e.easing,complete:function complete(){d&&e.afterShow()}})})},gSlider:function gSlider(c,d){var e=this,f=e.maskC.clone(),g=f.width();f.appendTo(e.maskC.parent()).css({background:e.pic.css("backgroundImage")}).show(),c.show().css({left:0<e.direction?-g:g}).stop().animate({left:0},{duration:+e.duration,easing:e.easing,step:function step(k){0<e.direction?f.css("left",k+g):f.css("left",k-g)},complete:function complete(){f.remove(),d&&e.afterShow()}})},vSlider:function vSlider(c,d){var e=this,f=e.maskC.clone(),g=f.height();f.appendTo(e.maskC.parent()).css({background:e.pic.css("backgroundImage")}).show(),c.show().css({top:0<e.direction?-g:g}).stop().animate({top:0},{duration:+e.duration,easing:e.easing,step:function step(k){0<e.direction?f.css("top",k+g):f.css("top",k-g)},complete:function complete(){f.remove(),d&&e.afterShow()}})},vSlideOdd:function vSlideOdd(c,d){var e=this;a(c).each(function(){var f=a(this),g=f.show().css("top"),k=f.height(),m=e.odd;f.css({top:m?-k:k}).stop().animate({top:g},{duration:+e.duration,easing:e.easing,complete:function complete(){d&&e.afterShow()}}),e.odd=!e.odd})},gSlideOdd:function gSlideOdd(c,d){var e=this;a(c).each(function(){var f=a(this),g=f.show().css("left"),k=f.width(),m=e.odd;f.css({left:m?-k:k}).stop().animate({left:g},{duration:+e.duration,easing:e.easing,complete:function complete(){d&&e.afterShow()}}),e.odd=!e.odd})}}})})(jQuery);